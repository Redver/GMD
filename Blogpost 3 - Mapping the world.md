to make the map I used the free use map of europe from wikipedia as a base, then coloured in all the "ground" and the "sea", then made that into the base map of the game. next was to make the game objects for each of the sub regions, to test i first just simply split up france and england into 5 regions each for now. Next was to code the map segments. All of them would follow the same rules i.e : have a player which "owns them", keeps track of the units "in" them, track the level of devastation and how much the player gets from them each turn, so each of the provinces could have these as components i.e canHoldUnits, and hasNeigbours (which could have the neighbouring provinces assigned in editor) to help with troop movement logic.

After making the model for all of the domain, I then made the neghbours logic. Using 2d bounding boxes as colliders and unity's OverlapBoxAll to locate which provinces are adjacent on the map. Then using a raycast, unity checks if there is a sea tile between itself and one of the colliding gameObjects to make sure that they are not added.

Next was getting province ownership and such working. Using a Dictionary with all gameobjects with the nation tag would get me a list of gameobjects, and these would have the Nations script attached to them, allowing me to fetch that and use it in the changeowner method, which would get triggered when the owner changes, but for now can be used to recolour the tiles with their starting owner. 

To do the selector gameObject and logic, I made a simple arrow as its sprite, then an object that had methods to change its parent, alongside lerping between its current location and the location of its new parent, alongside methods to be called when he turn changed between the two players. To make the controls functional for a joystick input I had to make a system where the object moved based on the input going towards the angle of the most matching province, splitting the area around the selector into sections, and if the joystick input was within the angles of a corresponding province, move said selector to that province.
![[Pasted image 20250316181741.png]]
After trying to do this method for a while I found it finnicky and with overlap between the province angles due to the fact that they are not very standard in size. This meant that this system would either not work as intended or just not work overall. Instead I thought back to how I'd done the neighbouring sea tile detection with ray casts, So I decided to use ray casts again to find the province in the direction of the joystick input, ignoring the province that sends the raycast.

For province ownership, each province is given a nation field, and become the child of whatever nation owns it. They also take on a colour denoting ownership.

In this update I also added a system to swap between player turns, using a "Selectors" object and script which collects both selectors and tell them to alternate in being active when the end turn button is pressed